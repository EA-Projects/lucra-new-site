<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Google Tag Manager -->
    <script>
      (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != 'dataLayer' ? '&l=' + l : '';
        j.async = true;
        j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, 'script', 'dataLayer', 'GTM-WZZ4975');
    </script>
    <!-- End Google Tag Manager -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="../images/favicon.ico" />

    <title>Lucra Sports - Rewards</title>
    <meta name="title" content="Lucra" />
    <meta name="description" content=" " />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://lucrasports.com/" />
    <meta
      property="og:title"
      content="Peer-to-Peer Sports Contests App | Lucra Sports"
    />
    <meta property="og:description" content=" " />
    <meta property="og:image" content="./images/og_graphic.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="700" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="" />
    <meta property="twitter:title" content="" />
    <meta property="twitter:description" content="" />
    <meta property="twitter:image" content="" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/ekko-lightbox/5.3.0/ekko-lightbox.css"
      integrity="sha512-Velp0ebMKjcd9RiCoaHhLXkR1sFoCCWXNp6w4zj1hfMifYB5441C+sKeBl/T/Ka6NjBiRfBBQRaQq65ekYz3UQ=="
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="../dist/style.css" />
  </head>

  <body class="loading">
    <!-- Google Tag Manager (noscript) -->
    <noscript
      ><iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-WZZ4975"
        height="0"
        width="0"
        style="display: none; visibility: hidden"
      ></iframe
    ></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div id="sb-site">
      <!-- HERO -->
      <header id="header-nav">
        <div class="container-nav">
          <nav class="navbar navbar-expand-lg navbar-light">
            <div class="mobile-top">
              <a class="navbar-brand" href="/">
                <img
                  src="../images/lucra-blue.svg"
                  class="logo d-inline-block align-top"
                  alt="Lucra Sports"
                />
              </a>
              <button
                class="navbar-toggler"
                type="button"
                data-toggle="collapse"
                data-target="#navbarNav"
                aria-controls="navbarNav"
                aria-expanded="false"
                aria-label="Toggle navigation"
              >
                <span class="navbar-toggler-icon"></span>
              </button>
            </div>
            <div
              class="collapse navbar-collapse justify-content-between"
              id="navbarNav"
            >
              <div class="d-flex align-items-center">
                <ul class="navbar-nav">
                  <li class="nav-item">
                    <a class="nav-link" href="about.html">about us</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="careers.html">careers</a>
                  </li>
                  <li class="nav-item">
                    <a
                      class="nav-link"
                      href="https://lucra-sports.myshopify.com/collections/all"
                      target="_blank"
                      >shop apparel</a
                    >
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="ambassadors.html">ambassadors</a>
                  </li>
 
                  <li class="d-block d-lg-none nav-item">
                    <a
                      class="button outline m-0"
                      href="https://m.lucrasports.com/jLpm/tjdvvvor"
                      target="_blank"
                      >Download the App</a
                    >
                  </li>
                  <li class="nav-item lucra">
                    <a class="nav-link" href="../index.html">
                      <img src="../images/lucra-soft.svg" alt="Lucra Sports" />
                    </a>
                  </li>
                </ul>
              </div>
              <div class="d-none d-lg-block">
                <ul class="p-0 m-0 list-unstyled">
                  <li>
                    <a
                      class="nav-link button outline m-0"
                      href="https://m.lucrasports.com/jLpm/tjdvvvor"
                      target="_blank"
                      >Download the App</a
                    >
                  </li>
                </ul>
              </div>
            </div>
          </nav>
        </div>
      </header>
      <section id="hero" class="hero-careers">
        <div class="container" id="header">
          <div class="row row-hero">
            <div class="col-12">
              <div class="content" id="hero-headline">
                <h1>
                  YOUR. <br class="d-block d-sm-none" />
                  <span>REWARDS.</span>
                </h1>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- REWARDS -->
      <section id="levels-section">
        <div class="container">
          <h2>CONGRATS ON LEVELING UP!</h2>
          <div class="row levels-container">
            <div id="level1" class="level">
              <div class="level-box-img">
                <img src="/images/rewards/reward-icon-lvl-1.png" alt="" />
              </div>
              <h6>Level 1: Rookie</h6>
              <svg
                width="52"
                height="23"
                viewBox="0 0 52 23"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M25.9808 0.499997L51.9615 23L0 23L25.9808 0.499997Z"
                  fill="currentColor"
                />
              </svg>
            </div>
            <div id="level2" class="level">
              <div class="level-box-img">
                <img src="/images/rewards/reward-icon-lvl-2.png" alt="" />
              </div>
              <h6>Level 2: Starter</h6>
              <svg
                width="52"
                height="23"
                viewBox="0 0 52 23"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M25.9808 0.499997L51.9615 23L0 23L25.9808 0.499997Z"
                  fill="currentColor"
                />
              </svg>
            </div>
            <div id="level3" class="level">
              <div class="level-box-img">
                <img src="/images/rewards/reward-icon-lvl-3.png" alt="" />
              </div>
              <h6>Level 3: All Star</h6>
              <svg
                width="52"
                height="23"
                viewBox="0 0 52 23"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M25.9808 0.499997L51.9615 23L0 23L25.9808 0.499997Z"
                  fill="currentColor"
                />
              </svg>
            </div>
            <div id="level4" class="level">
              <div class="level-box-img">
                <img src="/images/rewards/reward-icon-lvl-4.png" alt="" />
              </div>
              <h6>Level 4: MVP</h6>
              <svg
                width="52"
                height="23"
                viewBox="0 0 52 23"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M25.9808 0.499997L51.9615 23L0 23L25.9808 0.499997Z"
                  fill="currentColor"
                />
              </svg>
            </div>
            <div id="level5" class="level">
              <div class="level-box-img">
                <img src="/images/rewards/reward-icon-lvl-5.png" alt="" />
              </div>
              <h6>Level 5: HOF</h6>
              <svg
                width="52"
                height="23"
                viewBox="0 0 52 23"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M25.9808 0.499997L51.9615 23L0 23L25.9808 0.499997Z"
                  fill="currentColor"
                />
              </svg>
            </div>
          </div>
        </div>
        <div class="container redeem">
          <h4>Redeem Your Rewards</h4>
          <p>
            All of your kicking butt has paid off and you have unlocked Silver
            awards! Choose your reward below...
          </p>
          <div class="row jus redeem-cards-container">
            <div class="redeem-card" id="redeem-lucra-bucks">
              <h5><span id="bucks-value"></span> in Lucra Bucks</h5>
              <p>Lucra Bucks work just like cash in the app!</p>
            </div>

            <div class="d-flex justify-content-center align-items-center">
              <h4>or</h4>
            </div>

            <div class="redeem-card">
              <h5>
                <span id="merch-value"></span> store credit for Lucra apparel
              </h5>
              <p>Get some sweet Lucra apparel to make your friends jelly :)</p>
              <section id="redeem-lucra-merch"></section>
              <a
                class="redeem-card-link"
                href="https://shoplucra.com"
                target="_blank"
                ><p>View the Lucra Store</p></a
              >
            </div>
          </div>
        </div>
      </section>

      <section id="more-points">
        <div class="container">
          <h4>How to Earn More Points</h4>
          <div class="row">
            <div class="col-lg-6 col-sm-12">
              <div class="more-points-column">
                <div class="more-point-box-img">
                  <img src="/images/rewards/more-point-1.png" alt="" />
                </div>
                <h5>Earn 5 points for every referral!</h5>
                <p>Lucra is meant to be played with friends, get em in here!</p>
              </div>
            </div>
            <div class="col-lg-6 col-sm-12">
              <div class="more-points-column">
                <div class="more-point-box-img">
                  <img src="/images/rewards/more-point-2.png" alt="" />
                </div>
                <h5>Earn 1 point for every $20 played!</h5>
                <p>
                  You’re already creating contests, so why not get points for
                  them!
                </p>
              </div>
            </div>
          </div>
          <a class="button outline" href="/pages/loyaltyprogram.html"
            >Learn More About Rewards</a
          >
        </div>
      </section>
      <!-- FOOTER -->
      <footer>
        <div class="container">
          <div class="row">
            <div class="col-12 col-lg-8">
              <div class="top-contact">
                <div class="contact-us">
                  <img
                    src="../images/homepage/lucra-l.svg"
                    alt="Lucra Sports"
                  />
                  <div class="contact">
                    <p>Contact Us</p>
                    <a href="mailto:team@lucrasports.com"
                      >team@lucrasports.com</a
                    >
                  </div>
                </div>
                <div class="download">
                  <a
                  class="button outline m-0"
                  href="https://m.lucrasports.com/jLpm/tjdvvvor"
                  target="_blank"
                  >Download the App</a
                >
                </div>
              </div>
              <div class="navigation-links">
                <a href="careers.html">careers</a>
                <a href="faqs.html">faqs</a>
                <a href="responsible-gaming.html">responsible gaming</a>
                <a href="terms-of-service.html">terms of service</a>
                <a href="privacy-policy.html">privacy policy</a>
              </div>
              <div class="copyright">
                <p>Copyright © <script>document.write(new Date().getFullYear());</script> Lucra Sports</p>
              </div>
            </div>
            <div class="col-12 col-lg-4">
              <div class="up-your-game">
                <h4>Up Your Game</h4>
                <p>Be the first to learn about promotions and updates.</p>
                <h6>Follow us on social media</h6>
                <div class="social-box">
                  <a
                    href="https://www.instagram.com/lucrasports/"
                    target="_blank"
                    rel="noopener"
                    ><img
                      src="../images/homepage/instagram.svg"
                      class="instagram"
                      alt="Instagram"
                  /></a>
                  <a
                    href="https://www.facebook.com/Lucra-Sports-104710225235562"
                    target="_blank"
                    rel="noopener"
                    ><img
                      src="../images/homepage/facebook.svg"
                      class="facebook"
                      alt="Facebook"
                  /></a>
                  <a
                    href="https://twitter.com/LucraSports"
                    target="_blank"
                    rel="noopener"
                    ><img
                      src="../images/homepage/twitter.svg"
                      class="twitter"
                      alt="Twitter"
                  /></a>
                  <a
                    href="https://www.youtube.com/channel/UCMKf_D_n80bE9OjegIcPRJA"
                    target="_blank"
                    rel="noopener"
                  >
                    <img
                      src="../images/homepage/youtube.svg"
                      class="youtube"
                      alt="YouTube"
                    />
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </footer>
    </div>

    <script src="../dist/jquery.min.js" type="text/javascript"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

    <script>
      let userTier;

      function ready(fn) {
        if (document.readyState !== 'loading') {
          fn();
        } else {
          document.addEventListener('DOMContentLoaded', fn);
        }
      }

      ready(function () {
        const queryString = window.location.search;

        const urlParams = new URLSearchParams(queryString);
        const promotionUserId = urlParams.get('puid');
        const lucraBucksRewardDetailId = urlParams.get('ruid-lb');
        const lucraMerchRewardDetailid = urlParams.get('ruid-mch');
        userTier = parseInt(urlParams.get('t'));

        createRedeemButtonElement('redeem-lucra-bucks', {
          rewardId: lucraBucksRewardDetailId,
          promotionUserId,
          type: 'LUCRA_BUCKS',
        });

        createRedeemButtonElement('redeem-lucra-merch', {
          rewardId: lucraMerchRewardDetailid,
          promotionUserId,
          type: 'LUCRA_MERCH',
        });

        // guard against tier value being unset or higher or lower than acceptable levels
        if (userTier === undefined || userTier === null || isNaN(userTier)) {
          userTier = 1;
        }
        if (userTier < 1) {
          userTier = 1;
        }
        if (userTier > 5) {
          userTier = 5;
        }
        const levelBadges = document.querySelectorAll(
          '.levels-container .level'
        );
        for (let tierIndex = 0; tierIndex <= userTier; tierIndex++) {
          if (tierIndex < userTier - 1) {
            levelBadges[tierIndex].classList.add('complete');
          }
          if (tierIndex === userTier - 1) {
            levelBadges[tierIndex].classList.add('active');
          }
        }

        const rewardsMap = {
          1: { bucks: '$10', merch: '$25' },
          2: { bucks: '$20', merch: '$30' },
          3: { bucks: '$30', merch: '$50' },
          4: { bucks: '$50', merch: '$50' },
          5: { bucks: '$100', merch: '$100' },
        };

        // set reward values dynamically
        const bucksValue = document.getElementById('bucks-value');
        if (bucksValue) {
          bucksValue.innerText = rewardsMap[userTier]['bucks'];
        }
        const merchValue = document.getElementById('merch-value');
        if (merchValue) {
          merchValue.innerText = rewardsMap[userTier]['merch'];
        }
      });

      function createRedeemButtonElement(elementId, params) {
        const container = document.getElementById(elementId);

        const button = document.createElement('button');
        button.innerHTML = 'Select this Reward';
        button.classList.add('button');
        button.classList.add('outline');

        button.addEventListener('click', function () {
          redeemPromotion(params);
        });

        container.append(button);
      }

      function redeemPromotion(data) {
        const { promotionUserId, rewardId: rewardDetailId, type } = data;

        const headers = {
          'content-type': 'application/json',
        };
        const payload = {
          promotionUserId: promotionUserId,
          rewardDetailId: rewardDetailId,
        };

        // 'https://d1ben11o81za8v.cloudfront.net/api/rest/promotions/rewards',
        fetch(
          'https://d1ben11o81za8v.cloudfront.net/api/rest/promotions/rewards',
          {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify(payload),
          }
        )
          .then((data) => {
            if (!data.ok) {
              location.href = '/pages/rewards-redeem-error.html';
            } else {
              location.href =
                type === 'LUCRA_BUCKS'
                  ? `/pages/rewards-redeem-success-bucks.html?t=${userTier}`
                  : `/pages/rewards-redeem-success-merch.html?t=${userTier}`;
            }
          })
          .catch((e) => {
            console.log(e);
          });
      }
    </script>
  </body>
</html>
